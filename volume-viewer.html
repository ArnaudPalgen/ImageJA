<html>
<head>
<title>Volume Viewer</title>
</head>
<body bgcolor = "#ffffff">

<font color="#224488" face="Helvetica, Arial" size=+1>
<b>Volume Viewer</b>
</font>

<p>

<blockquote>

<table cellspacing=5>

<tr valign=top><td ><b>Author:</b></td>
  <td >
Kai Uwe Barthel (barthel at htw-berlin.de)<br>
Internationale Medieninformatik, HTW Berlin<br>
Berlin, Germany
</td></tr>

<tr valign=top><td ><b>History:</b></td><td >
<b>2005/02/16 (V1.05):</b> First version<br>
<b>2005/03/07 (V1.12):</b> Speedups; planar view indicators; new display mode (projection)<br>
<b>2005/03/15 (V1.21):</b> New and better volume rendering mode; can be called from macros<br>
<b>2007/03/08 (V1.31):</b> Works with RGB stacks<br>
<b>2012/12/03 (V2.01):</b> Added editable transfer functions, lighting, projections, faster rendering<br>
</td></tr>

<tr valign=top><td ><b>Source:</b></td><td >Contained in
<A HREF="download/jars/Volume_Viewer.jar">Volume_Viewer.jar</A>, 
which can be opened using a ZIP utility
</td></tr>

<tr valign=top><td ><b>Installation:</b></td><td >
Download <A HREF="download/jars/Volume_Viewer.jar">Volume_Viewer.jar</A>
to the plugins folder, or subfolder, restart ImageJ,
and there will be a new <i>Volume Viewer</i> command in the Plugins menu, or submenu.
</td></tr>

<tr valign=top><td ><b>Description:</b></td>
<td >
This plugin shows stacks as slices, projections or volumes within a 3D-(xyz)-space.  This plugin can be used  with 8, 16, 32 bit and RGB stacks. The viewing angle 
can be adjusted with the mouse.  The position of the volume
may be changed by pressing the SHIFT-key and dragging the mouse.

  <ul>
<li><b>Display Modes: </b> 
<ul>
  <li><b>Slice:</b> A slice through the volume. 
  <li><b>Slice &amp; Borders:</b> A slice through the volume,  
in addition the borders of the volume stack are displayed.
<li><b>Max Projection:</b> The volume is projected, maximum values (with alpha &gt; 0) are kept.
<li><b>Projection:</b> Voxels are projected using the alpha values as weight.
<li><b>Volume:</b> A 3D redering is performed using alpha blending.
The <b>Sampling </b>value 
 controls how many samples 
 are used to blend the volume values. Higher values lead to better looking results, but this will be slower.
</ul>
<li><b>Transfer functions: </b><strong>Color</strong> <b>LUTs</b> can be used for display. Their curves may be modified with the mouse.
<li><b>Transfer functions: </b><strong> Alpha values</strong> may be set using four different transfer functions using the luminance, gradient, mean and difference of the voxels.<br>
  <ul>
    <li><b>1D:</b> The alpha value may be drawn as a 1D-function: alpha(luminance)</li>
    <li><b>2D Grad:</b> The alpha value may be drawn as a 2D-function: alpha(luminance, gradient)</li>
    <li><b>2D MD:</b> The alpha value may be drawn as a 2D-function: alpha(mean, difference)</li>
    <li><b>3D Fill:</b> The alpha value may be set as a 3D-function: alpha(x,y,z). By clicking in the planar views alpha and color values may be assigned to voxels with similar intensities.</li>
    </ul>
<li><b>Interpolation modes </b> may be chosen from <em>Nearest Neighbor</em> (fastest), <em>triliniar</em> and two <em>tricubic</em> modes (slowest).
</li>
<li>The <b>Distance</b> slider adjusts the z screen position of the slice. Only voxels 
  at this distance or further away (for volumes and projections) are displayed. The colored lines in the planar views on 
  the left of the plugin indicate the intersection of the displayed slice and these views.
  
  The positions of the planar views may be set with the xy, yz, and xz sliders. 
</li>
<li>The <b>z-Aspect </b>ratio of the volume is read automatically, but it can also be
  set.
</li>
<li>The <b>Scale</b> slider sets the zoom factor. </li>
<li><b>Axes:</b> If checked, axes and text are shown.
</li>
<li><b>Clipping:</b> If checked, the clipping plane (at the selected distance)  is shown.
  
</li>
<li><b>Slice positions:</b> If checked, the positions of planar views are 
  displayed.
  
</li>
  </ul>
  <p>
    This plugin can be called from a macro. This example
    macro generates volume views of all the images
    in a stack and stores then in another stack. Call Volume Viewer with &quot;help&quot; as parameter to get a list of valid parameters. <i>Volume Slicer,</i> an extended version of
    this macro, and a rendered MicroCT stack, are available at
    <a href="http://doube.net/macros.html#volslice">http://doube.net/macros.html#volslice</a>.
<pre>macro &quot;RotatingVolume.txt&quot; {<br>  requires(&quot;1.33r&quot;);<br>  saveSettings();<br>  stack1 = getImageID;<br>  stack2 = 0;<br>  if (nSlices==1)<br>      exit(&quot;Stack required&quot;);<br>  setBatchMode(true);<br>  n = 10;<br>  for (i=0; i&lt;n; i++) {<br>    showProgress(i, n);<br>    selectImage(stack1);<br>    angle_y = i * 10 + 40;<br>    // params  (z-aspect=4 for mri-stack.tif)<br>    run(&quot;Volume Viewer&quot;, &quot;display_mode=4 z-aspect=4 scale=2 axes=0 interpolation=2 angle_y=&quot;+ angle_y );<br>    run(&quot;Copy&quot;);<br>    w = getWidth; h = getHeight;<br>    close();     <br>    if (stack2==0) {<br>      run(&quot;New...&quot;, &quot;name=Plots type=RGB Color width=&quot;+w+&quot; height=&quot;+h+&quot; slices=1&quot;);<br>      stack2 = getImageID;<br>    } else {<br>      selectImage(stack2);<br>      run(&quot;Add Slice&quot;);<br>    }<br>    run(&quot;Paste&quot;);<br>  }<br>  setSlice(1);<br>  setBatchMode(false);<br>  restoreSettings();<br>}</pre>
</td></tr>

<tr valign=top><td ><b>See Also:</b></td><td >
<A HREF="color-inspector.html">3D Color Inspector</A><br>
<A HREF="surface-plot-3d.html">3D Surface Plot</A><br>
<A HREF="http://www.med.harvard.edu/JPNM/ij/plugins/Display3TP.html">Orthogonal View Stack Display</A><br>
<A HREF="http://www.disi.unige.it/person/BerteroM/MedNuc/OrtView/OrtView.html">MedNuc OrtView</A><br>
<a href="http://132.187.25.13/home/?category=Download&page=Viewer3D">3D Viewer</a> (hardware-accelerated 3D visualization)
</td></tr>

</table>

<p>&nbsp;</p>

<center>
<img SRC="images/volviewer.png" width=1168 height=751 alt="Volume Viewer"><br>
<p>
Rendering of a series of 110 images of an   
<A HREF="http://www.f4.htw-berlin.de/~barthel/ImageJ/temp/engine.zip"> engine part</A>.
</center>
<p>

</blockquote>
<p><b>|<a href="index.html">Plugins</a> | <a href="../index.html">Home</a> |</b>

</body>
</html>
